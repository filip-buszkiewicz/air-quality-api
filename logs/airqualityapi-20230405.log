2023-04-05 12:58:28  INF  Now listening on: https://localhost:7285
2023-04-05 12:58:28  INF  Now listening on: http://localhost:5285
2023-04-05 12:58:28  INF  Application started. Press Ctrl+C to shut down.
2023-04-05 12:58:28  INF  Hosting environment: Development
2023-04-05 12:58:28  INF  Content root path: C:\Users\FBUSZKIEWICZ\Documents\GitHub\filip_b\AirQualityApi\AirQualityApi\
2023-04-05 12:58:29  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/index.html - -
2023-04-05 12:58:31  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 1780.1832ms
2023-04-05 12:58:31  INF  Request starting HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - -
2023-04-05 12:58:31  INF  Request starting HTTP/2 GET https://localhost:7285/_vs/browserLink - -
2023-04-05 12:58:31  INF  Request finished HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 208.6892ms
2023-04-05 12:58:32  INF  Request finished HTTP/2 GET https://localhost:7285/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 458.9513ms
2023-04-05 12:58:32  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - -
2023-04-05 12:58:32  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 370.8637ms
2023-04-05 12:58:35  INF  Request starting HTTP/2 GET https://localhost:7285/api/Stations - -
2023-04-05 12:58:35  INF  Executing endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-05 12:58:35  INF  Route matched with {action = "GetAllStations", controller = "Stations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStations() on controller AirQualityApi.Controllers.StationsController (AirQualityApi).
2023-04-05 12:58:35  INF  Retrieving the data...
2023-04-05 12:58:35  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-05 12:58:35  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-05 12:58:37  INF  Received HTTP response headers after 2149.0678ms - 200
2023-04-05 12:58:37  INF  End processing HTTP request after 2317.1765ms - 200
2023-04-05 12:58:38  INF  Successfully retrieved 209 stations
2023-04-05 12:58:38  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirQualityApi.Models.Station, AirQualityApi.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-04-05 12:58:38  INF  Executed action AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi) in 2868.7523ms
2023-04-05 12:58:38  INF  Executed endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-05 12:58:38  INF  Request finished HTTP/2 GET https://localhost:7285/api/Stations - - - 200 - application/json;+charset=utf-8 3063.5459ms
2023-04-05 12:58:53  INF  Request starting HTTP/2 GET https://localhost:7285/api/Stations/city/Wrocław - -
2023-04-05 12:58:53  INF  Executing endpoint 'AirQualityApi.Controllers.StationsController.GetStationAndSensorDataByStationName (AirQualityApi)'
2023-04-05 12:58:53  INF  Route matched with {action = "GetStationAndSensorDataByStationName", controller = "Stations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStationAndSensorDataByStationName(System.String) on controller AirQualityApi.Controllers.StationsController (AirQualityApi).
2023-04-05 12:58:53  INF  Retrieving the data...
2023-04-05 12:58:53  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-05 12:58:53  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-05 12:58:54  INF  Received HTTP response headers after 802.2701ms - 200
2023-04-05 12:58:54  INF  End processing HTTP request after 809.1524ms - 200
2023-04-05 12:58:54  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/114"
2023-04-05 12:58:54  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/114"
2023-04-05 12:58:54  INF  Received HTTP response headers after 247.7344ms - 200
2023-04-05 12:58:54  INF  End processing HTTP request after 260.2093ms - 200
2023-04-05 12:58:54  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/117"
2023-04-05 12:58:54  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/117"
2023-04-05 12:58:55  INF  Received HTTP response headers after 310.9679ms - 200
2023-04-05 12:58:55  INF  End processing HTTP request after 317.1133ms - 200
2023-04-05 12:58:55  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/129"
2023-04-05 12:58:55  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/129"
2023-04-05 12:58:55  INF  Received HTTP response headers after 258.5943ms - 200
2023-04-05 12:58:55  INF  End processing HTTP request after 267.2892ms - 200
2023-04-05 12:58:55  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/143"
2023-04-05 12:58:55  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/sensors/143"
2023-04-05 12:58:55  INF  Received HTTP response headers after 279.4251ms - 200
2023-04-05 12:58:55  INF  End processing HTTP request after 285.7264ms - 200
2023-04-05 12:58:55  INF  Successfully retrieved the station data with given station name: Wrocław
2023-04-05 12:58:55  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirQualityApi.Models.StationWithParams, AirQualityApi.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-04-05 12:58:55  INF  Executed action AirQualityApi.Controllers.StationsController.GetStationAndSensorDataByStationName (AirQualityApi) in 2280.2364ms
2023-04-05 12:58:55  INF  Executed endpoint 'AirQualityApi.Controllers.StationsController.GetStationAndSensorDataByStationName (AirQualityApi)'
2023-04-05 12:58:55  INF  Request finished HTTP/2 GET https://localhost:7285/api/Stations/city/Wrocław - - - 200 - application/json;+charset=utf-8 2345.6376ms
2023-04-05 13:12:32  WRN  The foreign key property 'Sensor.ParamId1' was created in shadow state because a conflicting property with the simple name 'ParamId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-04-05 13:12:41  WRN  The foreign key property 'Sensor.ParamId1' was created in shadow state because a conflicting property with the simple name 'ParamId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-04-05 13:12:41  WRN  The foreign key property 'Sensor.ParamId1' was created in shadow state because a conflicting property with the simple name 'ParamId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-04-05 13:14:15  WRN  The foreign key property 'Sensor.ParamId1' was created in shadow state because a conflicting property with the simple name 'ParamId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-04-05 13:14:15  WRN  The foreign key property 'Sensor.ParamId1' was created in shadow state because a conflicting property with the simple name 'ParamId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2023-04-05 13:18:19  INF  Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AirQualityData];
2023-04-05 13:18:19  INF  Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AirQualityData] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-04-05 13:18:19  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-05 13:18:19  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-04-05 13:18:19  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-05 13:18:19  INF  Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-05 13:18:19  INF  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-05 13:18:19  INF  Applying migration '20230405121757_InitialMigration'.
2023-04-05 13:18:19  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-05 13:18:19  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SensorParams] (
    [IdParam] int NOT NULL IDENTITY,
    [ParamName] nvarchar(max) NOT NULL,
    [ParamCode] nvarchar(max) NOT NULL,
    [ParamFormula] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_SensorParams] PRIMARY KEY ([IdParam])
);
2023-04-05 13:18:19  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [AddressStreet] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-05 13:18:19  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sensors] (
    [Id] int NOT NULL IDENTITY,
    [StationId] int NOT NULL,
    [ParamIdParam] int NOT NULL,
    CONSTRAINT [PK_Sensors] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Sensors_SensorParams_ParamIdParam] FOREIGN KEY ([ParamIdParam]) REFERENCES [SensorParams] ([IdParam]) ON DELETE CASCADE,
    CONSTRAINT [FK_Sensors_Stations_StationId] FOREIGN KEY ([StationId]) REFERENCES [Stations] ([Id]) ON DELETE CASCADE
);
2023-04-05 13:18:19  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_ParamIdParam] ON [Sensors] ([ParamIdParam]);
2023-04-05 13:18:19  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_StationId] ON [Sensors] ([StationId]);
2023-04-05 13:18:19  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stations_CityId] ON [Stations] ([CityId]);
2023-04-05 13:18:19  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230405121757_InitialMigration', N'7.0.4');
2023-04-05 15:11:52  INF  Now listening on: https://localhost:7285
2023-04-05 15:11:52  INF  Now listening on: http://localhost:5285
2023-04-05 15:11:52  INF  Application started. Press Ctrl+C to shut down.
2023-04-05 15:11:52  INF  Hosting environment: Development
2023-04-05 15:11:52  INF  Content root path: C:\Users\FBUSZKIEWICZ\Documents\GitHub\filip_b\AirQualityApi\AirQualityApi\
2023-04-05 15:11:53  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/index.html - -
2023-04-05 15:11:53  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 556.5988ms
2023-04-05 15:11:53  INF  Request starting HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - -
2023-04-05 15:11:53  INF  Request starting HTTP/2 GET https://localhost:7285/_vs/browserLink - -
2023-04-05 15:11:53  INF  Request finished HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 14.2319ms
2023-04-05 15:11:53  INF  Request finished HTTP/2 GET https://localhost:7285/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.5300ms
2023-04-05 15:11:53  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - -
2023-04-05 15:11:53  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.6643ms
2023-04-05 15:12:18  INF  Request starting HTTP/2 GET https://localhost:7285/api/Stations - -
2023-04-05 15:12:18  INF  Executing endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-05 15:12:18  INF  Route matched with {action = "GetAllStations", controller = "Stations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStations() on controller AirQualityApi.Controllers.StationsController (AirQualityApi).
2023-04-05 15:12:18  INF  Executed action AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi) in 2.9531ms
2023-04-05 15:12:18  INF  Executed endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-05 15:12:19  INF  Request finished HTTP/2 GET https://localhost:7285/api/Stations - - - 500 - application/json;+charset=utf-8 91.7896ms
2023-04-05 15:15:17  INF  Now listening on: https://localhost:7285
2023-04-05 15:15:17  INF  Now listening on: http://localhost:5285
2023-04-05 15:15:17  INF  Application started. Press Ctrl+C to shut down.
2023-04-05 15:15:17  INF  Hosting environment: Development
2023-04-05 15:15:17  INF  Content root path: C:\Users\FBUSZKIEWICZ\Documents\GitHub\filip_b\AirQualityApi\AirQualityApi\
2023-04-05 15:15:18  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/index.html - -
2023-04-05 15:15:18  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 389.0189ms
2023-04-05 15:15:18  INF  Request starting HTTP/2 GET https://localhost:7285/_vs/browserLink - -
2023-04-05 15:15:18  INF  Request starting HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - -
2023-04-05 15:15:18  INF  Request finished HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 6.8102ms
2023-04-05 15:15:18  INF  Request finished HTTP/2 GET https://localhost:7285/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.3721ms
2023-04-05 15:15:18  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - -
2023-04-05 15:15:18  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.3387ms
2023-04-05 15:15:34  INF  Request starting HTTP/2 GET https://localhost:7285/api/Stations - -
2023-04-05 15:15:34  INF  Executing endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-05 15:15:34  INF  Route matched with {action = "GetAllStations", controller = "Stations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStations() on controller AirQualityApi.Controllers.StationsController (AirQualityApi).
2023-04-05 15:15:37  INF  Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AddressStreet], [s].[CityId], [s].[GegrLat], [s].[GegrLon], [s].[StationName], [c].[Id], [c].[Name]
FROM [Stations] AS [s]
INNER JOIN [Cities] AS [c] ON [s].[CityId] = [c].[Id]
2023-04-05 15:15:37  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirQualityApi.Db.Models.Station, AirQualityApi.Db.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-04-05 15:15:37  INF  Executed action AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi) in 2595.0665ms
2023-04-05 15:15:37  INF  Executed endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-05 15:15:37  INF  Request finished HTTP/2 GET https://localhost:7285/api/Stations - - - 500 - application/json;+charset=utf-8 2710.2140ms
