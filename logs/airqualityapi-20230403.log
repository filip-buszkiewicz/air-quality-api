2023-04-03 08:02:53  INF  Now listening on: https://localhost:7285
2023-04-03 08:02:53  INF  Now listening on: http://localhost:5285
2023-04-03 08:02:53  INF  Application started. Press Ctrl+C to shut down.
2023-04-03 08:02:53  INF  Hosting environment: Development
2023-04-03 08:02:53  INF  Content root path: C:\Users\FBUSZKIEWICZ\Documents\GitHub\filip_b\AirQualityApi\AirQualityApi\
2023-04-03 08:02:55  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/index.html - -
2023-04-03 08:02:56  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 344.3900ms
2023-04-03 08:02:56  INF  Request starting HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - -
2023-04-03 08:02:56  INF  Request finished HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 5.5803ms
2023-04-03 08:02:56  INF  Request starting HTTP/2 GET https://localhost:7285/_vs/browserLink - -
2023-04-03 08:02:56  INF  Request finished HTTP/2 GET https://localhost:7285/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.4522ms
2023-04-03 08:02:56  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - -
2023-04-03 08:02:56  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.9406ms
2023-04-03 08:03:01  INF  Request starting HTTP/2 GET https://localhost:7285/api/Stations - -
2023-04-03 08:03:01  INF  Executing endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-03 08:03:01  INF  Route matched with {action = "GetAllStations", controller = "Stations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStations() on controller AirQualityApi.Controllers.StationsController (AirQualityApi).
2023-04-03 08:03:01  INF  Retrieving the data...
2023-04-03 08:03:01  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-03 08:03:01  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-03 08:03:03  INF  Received HTTP response headers after 2189.1568ms - 200
2023-04-03 08:03:03  INF  End processing HTTP request after 2212.2434ms - 200
2023-04-03 08:03:03  INF  Successfully retrieved 207 stations
2023-04-03 08:03:03  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirQualityApi.Models.Station, AirQualityApi.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-04-03 08:03:03  INF  Executed action AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi) in 2742.9913ms
2023-04-03 08:03:03  INF  Executed endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-03 08:03:03  INF  Request finished HTTP/2 GET https://localhost:7285/api/Stations - - - 200 - application/json;+charset=utf-8 2795.8910ms
2023-04-03 08:30:23  INF  Executed DbCommand (205ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AirQualityData];
2023-04-03 08:30:23  INF  Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AirQualityData] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-04-03 08:30:23  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 08:30:23  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 08:30:23  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 08:30:23  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 08:30:23  INF  Applying migration '20230403073006_FirstMigration'.
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Params] (
    [ParamName] nvarchar(450) NOT NULL,
    [ParamFormula] nvarchar(max) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [StationWithParamsStationId] int NULL,
    [ParamCode] nvarchar(max) NULL,
    [IdParam] int NULL,
    CONSTRAINT [PK_Params] PRIMARY KEY ([ParamName]),
    CONSTRAINT [FK_Params_StationsWithParams_StationWithParamsStationId] FOREIGN KEY ([StationWithParamsStationId]) REFERENCES [StationsWithParams] ([StationId])
);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sensors] (
    [Id] int NOT NULL IDENTITY,
    [StationId] int NOT NULL,
    [ParamName] nvarchar(450) NULL,
    CONSTRAINT [PK_Sensors] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Sensors_Params_ParamName] FOREIGN KEY ([ParamName]) REFERENCES [Params] ([ParamName])
);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Params_StationWithParamsStationId] ON [Params] ([StationWithParamsStationId]);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_ParamName] ON [Sensors] ([ParamName]);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stations_CityId] ON [Stations] ([CityId]);
2023-04-03 08:30:23  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403073006_FirstMigration', N'7.0.4');
2023-04-03 11:38:18  INF  Now listening on: https://localhost:7285
2023-04-03 11:38:18  INF  Now listening on: http://localhost:5285
2023-04-03 11:38:18  INF  Application started. Press Ctrl+C to shut down.
2023-04-03 11:38:18  INF  Hosting environment: Development
2023-04-03 11:38:19  INF  Content root path: C:\Users\FBUSZKIEWICZ\Documents\GitHub\filip_b\AirQualityApi\AirQualityApi\
2023-04-03 11:38:22  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/index.html - -
2023-04-03 11:38:25  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 2136.6998ms
2023-04-03 11:38:25  INF  Request starting HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - -
2023-04-03 11:38:25  INF  Request finished HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 15.0880ms
2023-04-03 11:38:25  INF  Request starting HTTP/2 GET https://localhost:7285/_vs/browserLink - -
2023-04-03 11:38:26  INF  Request finished HTTP/2 GET https://localhost:7285/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 192.3836ms
2023-04-03 11:38:26  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - -
2023-04-03 11:38:27  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 285.3831ms
2023-04-03 11:55:08  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 11:55:08  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 11:55:08  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 11:55:08  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 11:55:08  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 11:55:08  INF  Reverting migration '20230403073006_FirstMigration'.
2023-04-03 11:55:08  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Sensors];
2023-04-03 11:55:08  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stations];
2023-04-03 11:55:08  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Params];
2023-04-03 11:55:08  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Cities];
2023-04-03 11:55:08  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [StationsWithParams];
2023-04-03 11:55:08  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230403073006_FirstMigration';
2023-04-03 12:43:55  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 12:43:55  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 12:43:55  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 12:43:55  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 12:43:55  INF  Applying migration '20230403114342_FirstMigration'.
2023-04-03 12:43:55  INF  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Params] (
    [ParamName] nvarchar(450) NOT NULL,
    [ParamFormula] nvarchar(max) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [StationWithParamsStationId] int NULL,
    [ParamCode] nvarchar(max) NULL,
    [IdParam] int NULL,
    CONSTRAINT [PK_Params] PRIMARY KEY ([ParamName]),
    CONSTRAINT [FK_Params_StationsWithParams_StationWithParamsStationId] FOREIGN KEY ([StationWithParamsStationId]) REFERENCES [StationsWithParams] ([StationId])
);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sensors] (
    [Id] int NOT NULL IDENTITY,
    [StationId] int NOT NULL,
    [ParamName] nvarchar(450) NULL,
    CONSTRAINT [PK_Sensors] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Sensors_Params_ParamName] FOREIGN KEY ([ParamName]) REFERENCES [Params] ([ParamName])
);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Params_StationWithParamsStationId] ON [Params] ([StationWithParamsStationId]);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_ParamName] ON [Sensors] ([ParamName]);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stations_CityId] ON [Stations] ([CityId]);
2023-04-03 12:43:55  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403114342_FirstMigration', N'7.0.4');
2023-04-03 13:00:07  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:00:07  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:00:07  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:00:07  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:00:07  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:00:07  INF  Applying migration '20230403115956_UpdatedMigration'.
2023-04-03 13:00:07  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'Name');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Cities] SET [Name] = N'' WHERE [Name] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [Name] nvarchar(max) NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT N'' FOR [Name];
2023-04-03 13:00:07  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403115956_UpdatedMigration', N'7.0.4');
2023-04-03 13:13:35  INF  Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:13:35  INF  Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:13:35  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:13:35  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:13:35  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:13:35  INF  Reverting migration '20230403115956_UpdatedMigration'.
2023-04-03 13:13:35  INF  Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'Name');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Cities] ALTER COLUMN [Name] nvarchar(max) NULL;
2023-04-03 13:13:35  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230403115956_UpdatedMigration';
2023-04-03 13:13:35  INF  Reverting migration '20230403114342_FirstMigration'.
2023-04-03 13:13:35  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Sensors];
2023-04-03 13:13:35  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stations];
2023-04-03 13:13:35  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Params];
2023-04-03 13:13:35  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Cities];
2023-04-03 13:13:35  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [StationsWithParams];
2023-04-03 13:13:35  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230403114342_FirstMigration';
2023-04-03 13:15:15  INF  Now listening on: https://localhost:7285
2023-04-03 13:15:15  INF  Now listening on: http://localhost:5285
2023-04-03 13:15:15  INF  Application started. Press Ctrl+C to shut down.
2023-04-03 13:15:15  INF  Hosting environment: Development
2023-04-03 13:15:15  INF  Content root path: C:\Users\FBUSZKIEWICZ\Documents\GitHub\filip_b\AirQualityApi\AirQualityApi\
2023-04-03 13:15:18  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/index.html - -
2023-04-03 13:15:20  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 1962.1868ms
2023-04-03 13:15:21  INF  Request starting HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - -
2023-04-03 13:15:21  INF  Request starting HTTP/2 GET https://localhost:7285/_vs/browserLink - -
2023-04-03 13:15:21  INF  Request finished HTTP/2 GET https://localhost:7285/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 110.3944ms
2023-04-03 13:15:21  INF  Request finished HTTP/2 GET https://localhost:7285/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 225.4739ms
2023-04-03 13:15:21  INF  Request starting HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - -
2023-04-03 13:15:21  INF  Request finished HTTP/2 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 506.7501ms
2023-04-03 13:15:24  INF  Request starting HTTP/2 GET https://localhost:7285/api/Stations - -
2023-04-03 13:15:24  INF  Executing endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-03 13:15:24  INF  Route matched with {action = "GetAllStations", controller = "Stations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStations() on controller AirQualityApi.Controllers.StationsController (AirQualityApi).
2023-04-03 13:15:24  INF  Retrieving the data...
2023-04-03 13:15:24  INF  Start processing HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-03 13:15:24  INF  Sending HTTP request GET "https://api.gios.gov.pl/pjp-api/rest/station/findAll"
2023-04-03 13:15:26  INF  Received HTTP response headers after 1731.5486ms - 200
2023-04-03 13:15:26  INF  End processing HTTP request after 1783.4888ms - 200
2023-04-03 13:15:27  INF  Successfully retrieved 209 stations
2023-04-03 13:15:27  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirQualityApi.Models.Station, AirQualityApi.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-04-03 13:15:27  INF  Executed action AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi) in 2482.1293ms
2023-04-03 13:15:27  INF  Executed endpoint 'AirQualityApi.Controllers.StationsController.GetAllStations (AirQualityApi)'
2023-04-03 13:15:27  INF  Request finished HTTP/2 GET https://localhost:7285/api/Stations - - - 200 - application/json;+charset=utf-8 2611.5854ms
2023-04-03 13:25:11  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:25:11  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:25:11  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:25:11  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:25:11  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:25:11  INF  Applying migration '20230403122308_FirstMigration'.
2023-04-03 13:25:11  INF  Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 13:25:11  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 13:25:11  ERR  Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [CityName] string NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 13:25:36  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:25:36  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:25:36  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:25:36  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:25:36  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:25:36  INF  No migrations were applied. The database is already up to date.
2023-04-03 13:28:40  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:28:40  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:28:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:28:40  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:28:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:28:40  INF  Applying migration '20230403122308_FirstMigration'.
2023-04-03 13:28:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 13:28:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 13:28:40  ERR  Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [CityName] string NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 13:30:40  INF  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:30:40  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:30:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:30:40  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:30:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:30:40  INF  Applying migration '20230403122308_FirstMigration'.
2023-04-03 13:30:41  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 13:30:41  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 13:30:41  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 13:30:41  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Params] (
    [ParamName] nvarchar(450) NOT NULL,
    [ParamFormula] nvarchar(max) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [StationWithParamsStationId] int NULL,
    [ParamCode] nvarchar(max) NULL,
    [IdParam] int NULL,
    CONSTRAINT [PK_Params] PRIMARY KEY ([ParamName]),
    CONSTRAINT [FK_Params_StationsWithParams_StationWithParamsStationId] FOREIGN KEY ([StationWithParamsStationId]) REFERENCES [StationsWithParams] ([StationId])
);
2023-04-03 13:30:41  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sensors] (
    [Id] int NOT NULL IDENTITY,
    [StationId] int NOT NULL,
    [ParamName] nvarchar(450) NULL,
    CONSTRAINT [PK_Sensors] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Sensors_Params_ParamName] FOREIGN KEY ([ParamName]) REFERENCES [Params] ([ParamName])
);
2023-04-03 13:30:41  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Params_StationWithParamsStationId] ON [Params] ([StationWithParamsStationId]);
2023-04-03 13:30:41  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_ParamName] ON [Sensors] ([ParamName]);
2023-04-03 13:30:41  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stations_CityId] ON [Stations] ([CityId]);
2023-04-03 13:30:41  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403122308_FirstMigration', N'7.0.4');
2023-04-03 13:38:44  INF  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:38:45  INF  Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:38:45  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:38:45  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:38:45  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:38:45  INF  Reverting migration '20230403122308_FirstMigration'.
2023-04-03 13:38:45  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Sensors];
2023-04-03 13:38:45  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stations];
2023-04-03 13:38:45  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Params];
2023-04-03 13:38:45  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Cities];
2023-04-03 13:38:45  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [StationsWithParams];
2023-04-03 13:38:45  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230403122308_FirstMigration';
2023-04-03 13:39:39  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:39:39  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:39:39  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:39:39  INF  Applying migration '20230403123932_FirstMigration'.
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [CityName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Params] (
    [ParamName] nvarchar(450) NOT NULL,
    [ParamFormula] nvarchar(max) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [StationWithParamsStationId] int NULL,
    [ParamCode] nvarchar(max) NULL,
    [IdParam] int NULL,
    CONSTRAINT [PK_Params] PRIMARY KEY ([ParamName]),
    CONSTRAINT [FK_Params_StationsWithParams_StationWithParamsStationId] FOREIGN KEY ([StationWithParamsStationId]) REFERENCES [StationsWithParams] ([StationId])
);
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sensors] (
    [Id] int NOT NULL IDENTITY,
    [StationId] int NOT NULL,
    [ParamName] nvarchar(450) NULL,
    CONSTRAINT [PK_Sensors] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Sensors_Params_ParamName] FOREIGN KEY ([ParamName]) REFERENCES [Params] ([ParamName])
);
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Params_StationWithParamsStationId] ON [Params] ([StationWithParamsStationId]);
2023-04-03 13:39:39  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_ParamName] ON [Sensors] ([ParamName]);
2023-04-03 13:39:39  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stations_CityId] ON [Stations] ([CityId]);
2023-04-03 13:39:39  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403123932_FirstMigration', N'7.0.4');
2023-04-03 13:41:53  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:41:53  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:41:53  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 13:41:53  INF  Reverting migration '20230403123932_FirstMigration'.
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Sensors];
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Stations];
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Params];
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Cities];
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [StationsWithParams];
2023-04-03 13:41:53  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230403123932_FirstMigration';
2023-04-03 13:42:00  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 13:42:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 13:42:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 14:26:48  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 14:26:48  INF  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 14:26:48  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 14:26:48  INF  Applying migration '20230403132517_FirstMigration'.
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [CityName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StationsWithParams] (
    [StationId] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_StationsWithParams] PRIMARY KEY ([StationId])
);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stations] (
    [Id] int NOT NULL IDENTITY,
    [StationName] nvarchar(max) NULL,
    [GegrLat] nvarchar(max) NULL,
    [GegrLon] nvarchar(max) NULL,
    [CityId] int NOT NULL,
    [CityName] nvarchar(max) NOT NULL,
    [AddressStreet] nvarchar(max) NULL,
    CONSTRAINT [PK_Stations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Stations_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Params] (
    [ParamName] nvarchar(450) NOT NULL,
    [ParamFormula] nvarchar(max) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [StationWithParamsStationId] int NULL,
    [ParamCode] nvarchar(max) NULL,
    [IdParam] int NULL,
    CONSTRAINT [PK_Params] PRIMARY KEY ([ParamName]),
    CONSTRAINT [FK_Params_StationsWithParams_StationWithParamsStationId] FOREIGN KEY ([StationWithParamsStationId]) REFERENCES [StationsWithParams] ([StationId])
);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Sensors] (
    [Id] int NOT NULL IDENTITY,
    [StationId] int NOT NULL,
    [ParamName] nvarchar(450) NULL,
    CONSTRAINT [PK_Sensors] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Sensors_Params_ParamName] FOREIGN KEY ([ParamName]) REFERENCES [Params] ([ParamName])
);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Params_StationWithParamsStationId] ON [Params] ([StationWithParamsStationId]);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Sensors_ParamName] ON [Sensors] ([ParamName]);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stations_CityId] ON [Stations] ([CityId]);
2023-04-03 14:26:48  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403132517_FirstMigration', N'7.0.4');
2023-04-03 14:30:40  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 14:30:40  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 14:30:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 14:30:40  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 14:30:40  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 14:30:40  INF  No migrations were applied. The database is already up to date.
2023-04-03 14:40:21  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 14:40:21  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 14:40:21  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-04-03 14:40:21  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-04-03 14:40:21  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-04-03 14:40:21  INF  Applying migration '20230403134013_UpdatedMigration'.
2023-04-03 14:40:21  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230403134013_UpdatedMigration', N'7.0.4');
